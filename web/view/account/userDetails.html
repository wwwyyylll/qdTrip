@@include('../../inc-header.html', {"title": "会员详情"})
@@include('../../top-nav.html')
@@include('../../left-nav.html')
<main class="app-content">
    <div class="app-title">
        <div>
            <h1><i class="fa fa-th-list"></i> 会员详情</h1>
        </div>
        <ul class="app-breadcrumb breadcrumb side">
            <li class="breadcrumb-item"><i class="fa fa-home fa-lg"></i></li>
            <li class="breadcrumb-item">Tables</li>
            <li class="breadcrumb-item active"><a href="#">会员详情</a></li>
        </ul>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="tile">
                <div class="tile-body">
                    <div id="basicMessage"></div>
                    <div class="row" style="margin-top: 10px">
                        <!--数据表格modelBuilder.js-->
                        <div class="col-lg-12" style="width: 97%">
                            <ul class="nav nav-tabs">
                                <li class="active" style="height: 28px">
                                    <a href="#qh1" id="headerTab1" data-toggle="tab" style="outline:none;color: orange;cursor: pointer">奖励明细</a>
                                </li>
                                <li class="active" style="height: 28px">
                                    <a href="#qh2" id="headerTab2" data-toggle="tab" style="outline:none;cursor: pointer">钱包信息</a>
                                </li>
                                <li class="active" style="height: 28px">
                                    <a href="#qh3" id="headerTab3" data-toggle="tab" style="outline:none;cursor: pointer">提现流水</a>
                                </li>
                                <li class="active" style="height: 28px">
                                    <a href="#qh4" id="headerTab4" data-toggle="tab" style="outline:none;cursor: pointer">认证信息</a>
                                </li>
                                <li class="active" style="height: 28px">
                                    <a href="#qh5" id="headerTab5" data-toggle="tab" style="outline:none;cursor: pointer">账户信息</a>
                                </li>
                                <li class="active" style="height: 28px">
                                    <a href="#qh6" id="headerTab6" data-toggle="tab" style="outline:none;cursor: pointer">等级变化日志</a>
                                </li>
                            </ul>
                            <div class="tab-content" id="tabContent"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<!--用户基本信息模板-->
<script id="basicList" type="text/html">
    <div style="padding: 20px; border: 1px solid lightgray;background: #f2f2f2;margin-bottom: 30px;">
        <div class="row" style="margin-bottom: 20px">
            <div class="col-9">
                <div class="row" style="margin-bottom: 20px">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">ID</span>
                            </div>
                            <input name="id" type="text" value="<%= dataArr.id %>" class="form-control">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">昵称</span>
                            </div>
                            <input type="text" value="<%= dataArr.nickName %>" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="row" style="margin-bottom: 20px">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">来源</span>
                            </div>
                            <input type="text" placeholder="" value="<%= dataArr.sourceText %>" class="form-control">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">创建时间</span>
                            </div>
                            <input type="text" placeholder="" value="<%= dataArr.createTime %>" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="row" style="margin-bottom: 20px">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">邀请码</span>
                            </div>
                            <input type="text" value="<%= dataArr.inviteCode %>" class="form-control">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">佣金率</span>
                            </div>
                            <input type="text" value="<%= dataArr.taobaoCommissionRate %>" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="row" style="margin-bottom: 20px">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">会员运营Id</span>
                            </div>
                            <input type="text" value="<%= dataArr.memberOperationId %>" class="form-control">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">已签约</span>
                            </div>
                            <input type="text" value="<%= dataArr.isSignUpText %>" class="form-control">
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-3">
                <% if(dataArr.avatar){ %>
                <a target="_blank" href="<%= dataArr.avatar %>">
                    <img src="<%= dataArr.avatar %>" style="display: inline-block;width:100px;height: 95px">
                </a>
                <% } %>
            </div>
        </div>
        <div class="row" style="margin-bottom: 20px">
            <div class="col-6">
                <% if (dataArr.status==1) { %>
                <button class="btn btn-danger" type="button" data-operate="notAllow">禁止登录</button>
                <% } else { %>
                <button class="btn btn-primary" type="button" data-operate="allow">允许登录</button>
                <% } %>
            </div>
        </div>
    </div>
</script>
<!--奖励明细-->
<script id="commissionLogList" type="text/html">
    <table class="table table-hover table-bordered" id="logTable" style="width: 50%">
        <thead>
        <tr>
            <th>奖励金</th>
            <th>奖励行为</th>
            <th>结算状态</th>
        </tr>
        </thead>
        <tbody>
        <% if (dataArr.length > 0) { %>
        <% for (var i = 0; i < dataArr.length; i++) { %>
        <tr>
            <td>
                <div style="margin-bottom: 5px"><%- dataArr[i].typeText %></div>
                <div style="color: red"><%= dataArr[i].money %></div>
            </td>
            <td style="text-align: left;padding-left: 10%">
                <% if(dataArr[i].type==1){ %>
                <!--自购-->
                <div style="margin-bottom: 5px"><%= dataArr[i].contentArr.title %>&nbsp;&nbsp;&nbsp;&nbsp;<%- dataArr[i].contentArr.typeText1 %></div>
                <div style="margin-bottom: 5px;text-decoration: underline;color: green">订单：<%= dataArr[i].contentArr.orderNo %></div>
                <div><%= dataArr[i].createTime %></div>
                <% }else if(dataArr[i].type==2){ %>
                <!--推广佣金-->
                <div style="margin-bottom: 5px"><%- dataArr[i].contentArr.fansTypeText %> ：<%= dataArr[i].contentArr.nickName %></div>
                <div><%- dataArr[i].contentArr.typeText %>&nbsp;&nbsp;&nbsp;<%= dataArr[i].createTime %></div>
                <% }else if(dataArr[i].type==3){ %>
                <!--销售佣金-->
                <div style="margin-bottom: 5px"><%= dataArr[i].contentArr.title %>&nbsp;&nbsp;&nbsp;&nbsp;<%- dataArr[i].contentArr.typeText1 %></div>
                <div style="margin-bottom: 5px;text-decoration: underline;color: green">订单：<%= dataArr[i].contentArr.orderNo %></div>
                <div><%= dataArr[i].createTime %></div>
                <% }else if(dataArr[i].type==4){ %>
                <!--商品抵扣-->
                <div style="margin-bottom: 5px"><%= dataArr[i].contentArr.title %></div>
                <div style="margin-bottom: 5px;text-decoration: underline;color: green">订单：<%= dataArr[i].contentArr.orderNo %></div>
                <div><%= dataArr[i].createTime %></div>
                <% }else if(dataArr[i].type==5){ %>
                <!--订单取消-->
                <div style="margin-bottom: 5px"><%= dataArr[i].contentArr.title %></div>
                <div style="margin-bottom: 5px;text-decoration: underline;color: green">订单：<%= dataArr[i].contentArr.orderNo %></div>
                <div><%= dataArr[i].createTime %></div>
                <% }else if(dataArr[i].type==6){ %>
                <!--现金券-->
                <div style="margin-bottom: 5px"><span style="color: green">现金券领取</span></div>
                <div><%= dataArr[i].createTime %></div>
                <% } %>
            </td>
            <td>
                <% if(dataArr[i].type!=6){ %>
                    <% if(dataArr[i].isSettlement==1 || dataArr[i].isSettlement==2){ %>
                    <div style="margin-bottom: 5px"><%- dataArr[i].settlementStatusText %></div>
                    <div><%= dataArr[i].settlementTime %></div>
                    <% }else if(dataArr[i].isSettlement==4){ %>
                    <div style="margin-bottom: 5px"><%- dataArr[i].settlementStatusText %></div>
                    <div><%= dataArr[i].updateTime %></div>
                    <% } %>
                <% } %>
            </td>
        </tr>
        <% } %>
        <% } else { %>
        <tr>
            <td colspan="10">没有符合条件的记录</td>
        </tr>
        <% } %>
        </tbody>
    </table>
    <div id="visaPagination" class="d-flex justify-content-end" style="width: 50%"></div>
</script>
<!--提现现水-->
<script id="cashOutRequestList" type="text/html">
    <table class="table table-hover table-bordered" id="cashOutRequestTable" style="width: 50%">
        <thead>
        <tr>
            <th>提现（元）</th>
            <th>提现账户</th>
            <th style="width:33%;word-wrap: break-word;word-break:break-all;">状态</th>
        </tr>
        </thead>
        <tbody>
        <% if (dataArr.length > 0) { %>
        <% for (var i = 0; i < dataArr.length; i++) { %>
        <tr>
            <td>
                <div style="margin-bottom: 5px"><%= dataArr[i].money %></div>
                <div>手续费：<i class="fa fa-jpy" aria-hidden="true"></i><%= dataArr[i].serviceCharge %></div>
            </td>
            <td>
                <div style="margin-bottom: 5px"><%- dataArr[i].accountTypeText %><%= dataArr[i].account %></div>
                <div><%= dataArr[i].createTime %></div>
            </td>
            <td style="width:33%;word-wrap: break-word;word-break:break-all;">
                <% if(dataArr[i].status==2){ %>
                <div style="margin-bottom: 5px"><%- dataArr[i].statusText %></div>
                <div><i class="fa fa-jpy" aria-hidden="true"></i><%= dataArr[i].actualReturnMoney %></div>
                <% }else if(dataArr[i].status==3){ %>
                <div style="margin-bottom: 5px"><%- dataArr[i].statusText %></div>
                <% if(dataArr[i].reason){ %>
                <div style="color: red">【驳回原因：<%= dataArr[i].reason %>】</div>
                <% } %>
                <% }else{ %>
                <div><%- dataArr[i].statusText %></div>
                <% } %>
            </td>
        </tr>
        <% } %>
        <% } else { %>
        <tr>
            <td colspan="10">没有符合条件的记录</td>
        </tr>
        <% } %>
        </tbody>
    </table>
    <div id="visaPagination1" class="d-flex justify-content-end" style="width: 50%"></div>
</script>
<!--账户操作日志查看-->
<script id="userLogLists" type="text/html">
    <table class="table table-hover table-bordered" id="userLogListsTable">
        <thead>
        <tr>
            <th>账户操作日志</th>
        </tr>
        </thead>
        <tbody>
        <% if (dataArr.length > 0) { %>
        <% for (var i = 0; i < dataArr.length; i++) { %>
        <tr>
            <td><%= dataArr[i] %></td>
        </tr>
        <% } %>
        <% } else { %>
        <tr>
            <td colspan="10">没有符合条件的记录</td>
        </tr>
        <% } %>
        </tbody>
    </table>
</script>
<!--账户信息-->
<script id="accountList" type="text/html">
    <table class="table table-hover table-bordered" id="accountTable" style="width: 50%">
        <thead>
        <tr>
            <th>账户类型</th>
            <th>账户名称</th>
            <th>操作</th>
        </tr>
        </thead>
        <tbody>
        <% if (accountArr.length > 0) { %>
        <% for (var i = 0; i < accountArr.length; i++) { %>
        <tr>
            <td><%- accountArr[i].accountTypeText %></td>
            <td><%= accountArr[i].account %></td>
            <td>
                <% for (var j = 0; j < accountArr[i].logArr.length; j++) { %>
                <div style="display: none"><%= accountArr[i].logArr[j] %></div>
                <% } %>
                <button class="btn btn-info" type="button" data-operate="userLogLook">查看操作日志</button>
            </td>
        </tr>
        <% } %>
        <% } else { %>
        <tr>
            <td colspan="10">没有符合条件的记录</td>
        </tr>
        <% } %>
        </tbody>
    </table>
</script>
<!-- 钱包信息 -->
<script id="walletMessage" type="text/html">
    <div style="padding: 20px; border: 1px solid lightgray;background: #f2f2f2;margin-bottom: 30px;">
        <div class="row" style="margin-bottom: 20px">
            <div class="col-3">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">现金券金额</span>
                    </div>
                    <input type="text" value="<%= walletArr.cashCouponMoney %>" class="form-control">
                    <div class="input-group-prepend">
                        <span class="input-group-text">元</span>
                    </div>
                </div>
            </div>
            <div class="col-3">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">可提现金额</span>
                    </div>
                    <input type="text" value="<%= walletArr.waitMoney %>" class="form-control">
                    <div class="input-group-prepend">
                        <span class="input-group-text">元</span>
                    </div>
                </div>
            </div>
            <div class="col-3">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">已提现金额</span>
                    </div>
                    <input type="text" value="<%= walletArr.takenMoney %>" class="form-control">
                    <div class="input-group-prepend">
                        <span class="input-group-text">元</span>
                    </div>
                </div>
            </div>
            <div class="col-3">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">未结算金额</span>
                    </div>
                    <input type="text" value="<%= walletArr.unSettlementMoney %>" class="form-control">
                    <div class="input-group-prepend">
                        <span class="input-group-text">元</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-3">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">冻结金额</span>
                    </div>
                    <input type="text" value="<%= walletArr.frozenMoney %>" class="form-control">
                    <div class="input-group-prepend">
                        <span class="input-group-text">元</span>
                    </div>
                </div>
            </div>
            <div class="col-3">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">累计金额</span>
                    </div>
                    <input type="text" value="<%= walletArr.totalAmount %>" class="form-control">
                    <div class="input-group-prepend">
                        <span class="input-group-text">元</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>
<!-- 认证信息 -->
<script id="certificationMessage" type="text/html">
    <div style="padding: 20px; border: 1px solid lightgray;background: #f2f2f2;margin-bottom: 30px;">
        <div class="row" style="margin-bottom: 20px">
            <div class="col-3">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">真实姓名</span>
                    </div>
                    <input type="text" value="<%= certificationArr.realName %>" class="form-control">
                </div>
            </div>
            <div class="col-3">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">手机号</span>
                    </div>
                    <input type="text" value="<%= certificationArr.mobile %>" class="form-control">
                </div>
            </div>
            <div class="col-3">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text">身份证号</span>
                    </div>
                    <input type="text" value="<%= certificationArr.IDCard %>" class="form-control">
                </div>
            </div>
        </div>
    </div>
</script>
<!--等级变化日志-->
<script id="userLevelLogList" type="text/html">
    <table class="table table-hover table-bordered" id="userLevelLogTable" style="width: 50%">
        <thead>
        <tr>
            <th>等级名称</th>
            <th>等级</th>
            <th>变更时间</th>
        </tr>
        </thead>
        <tbody>
        <% if (dataArr.length > 0) { %>
        <% for (var i = 0; i < dataArr.length; i++) { %>
        <tr>
            <td><%= dataArr[i].title %></td>
            <td><%= dataArr[i].level %></td>
            <td><%= dataArr[i].createTime %></td>
        </tr>
        <% } %>
        <% } else { %>
        <tr>
            <td colspan="10">没有符合条件的记录</td>
        </tr>
        <% } %>
        </tbody>
    </table>
    <div id="visaPagination2" class="d-flex justify-content-end" style="width: 50%"></div>
</script>
<script data-main="/public/js/module/account/userDetails"></script>
@@include('../../inc-footer.html')